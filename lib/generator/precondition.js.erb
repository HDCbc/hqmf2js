<%- if precondition.conjunction? -%>
<%- if indent>0 -%>
<%= "\n#{'  '*(indent+1)}#{conjunction_code_for(precondition)}(" -%>
<%- else -%>
<%= "#{conjunction_code_for(precondition)}(" -%>
<%- end -%>
<%- precondition.preconditions.each_with_index do |child, index| -%>
<%= "#{'  '*(indent+1)}#{js_for_precondition(child, indent+1)}" -%>
<%= "," if index < precondition.preconditions.length-1 -%>
<%- end -%>
<%= "\n#{'  '*(indent+1)})" -%>
<%- else -%>
<%= "\n#{'  '*(indent+1)}hqmfjs.#{js_name(precondition.reference)}(patient)" -%>
<%- end -%>